
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>CSIv2 Test Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>CSIv2 Test Reference</b><br />
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="commonappdeploy.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="jaspic-files.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GFAVU"></a><a id="b-csiv2-test-reference"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_b_csiv2_test_reference">B CSIv2 Test Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This appendix provides information about the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GFAVI">Overview</a></p>
</li>
<li>
<p><a href="#BACGHCAI">CSIv2 Logging Servlet</a></p>
</li>
<li>
<p><a href="#GFKFB">Naming Conventions for CSIv2 Test Directories</a></p>
</li>
<li>
<p><a href="#GFKGM">CSIv2 Test Directory Structure</a></p>
</li>
<li>
<p><a href="#GFKGF">Naming Conventions for CSIv2 Test Names</a></p>
</li>
<li>
<p><a href="#GJJVO">Debugging CSIv2 Test Failures</a></p>
</li>
<li>
<p><a href="#GFKFC">Examining Test Logs</a></p>
</li>
<li>
<p><a href="#GFKHS">CSIv2 Log Elements</a></p>
</li>
<li>
<p><a href="#GFKKB">IORs and Associated CSIv2 Tests</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFAVI"></a><a id="b.1-overview"></a></p>
</div>
<div class="sect2">
<h3 id="_b_1_overview">B.1 Overview</h3>
<div class="paragraph">
<p>This section describes the deployment scenarios under which the CSIv2
interoperability tests are executed. Each scenario uses two servers. The
label "Implementer Jakarta Platform, Enterprise Edition Server" refers to the
server under test. The label "Jakarta EE 8 CI Server" refers to the
reference server against which compatibility will be verified.</p>
</div>
<div class="paragraph">
<p>There are three primary deployment scenarios, each of which is described
in greater detail in sections that follow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GFAUX">Application Client-to-Jakarta Enterprise Beans Scenarios</a></p>
</li>
<li>
<p><a href="#GFAZD">Jakarta Enterprise Bean-to-Jakarta Enterprise Bean Test Scenarios</a></p>
</li>
<li>
<p><a href="#GFKEF">Web Client-to-Jakarta Enterprise Bean Scenarios</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Although these scenarios often involve more than one invocation, the
invocation of primary interest is the final invocation, which is always
between servers.</p>
</div>
<div class="paragraph">
<p>A new logging mechanism was introduced with Jakarta EE 8 CTS. Logging now
occurs as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the VI, logging operations are done through a servlet request.</p>
</li>
<li>
<p>From the CI (in the Interceptor), logging operations skip the servlet
request and write directly to the log file, since the interceptor
resides on the same machine as the log files.</p>
</li>
<li>
<p>From CI (not interceptor), logging operations are done through a
servlet request.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The log files are created and sent back to the client-side tests, where
they are validated as having the correct data in them. These log files
are typically removed between test runs, but can be kept around for
assisting with debugging and troubleshooting. Setting the ts.jte
"traceflag" property to true will keep these files.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The LoggingServlet must be have permission to write to the log file
directory. If it does not have this permission, the logging will fail,
which will cause all the CSIv2 tests to fail as well.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the server that is running the Jakarta EE 8 CI is started, a set of
logging interceptors are registered, allowing the test code to collect
protocol-level information. Note that this interceptor is only installed
on the server that is running the Jakarta EE 8 CI. The Jakarta EE 8 CTS does
not require the Implementer Jakarta Platform, Enterprise Edition Server to
support CORBA Portable Interceptors.</p>
</div>
<div class="paragraph">
<p>Each scenario is executed in both a "<code>forward</code>" and a "<code>reverse</code>"
direction:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the <code>forward</code> direction, the client component of the invocation of
primary interest is on the Implementer Jakarta Platform, Enterprise Edition
Server, and the server component is on the server that is running the
Jakarta EE 8 CI. In this direction, information about the CSIv2 request
message is collected and analyzed.</p>
</li>
<li>
<p>In the <code>reverse</code> direction, the client component of the invocation of
primary interest is on the server that is running the Jakarta EE 8 CI, and
the server component is on the Jakarta Platform, Enterprise Edition
Implementer server. In this direction, information about the published IOR
and the CSIv2 response message is collected and analyzed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#GFAUX">Application Client-to-Jakarta Enterprise Beans Scenarios</a>, <a href="#GFAZD">Jakarta Enterprise Beans-to-Jakarta Enterprise Beans
Test Scenarios</a>, and <a href="#GFKEF">Web Client-to-Jakarta Enterprise Beans Scenarios</a> show the
components that are present in both the <code>forward</code> and <code>reverse</code>
directions.</p>
</div>
<div class="paragraph">
<p>By understanding these deployment scenarios, you can have a deeper
understanding of how the tests work, which will make it easier to
determine why a particular test is not passing.</p>
</div>
<div class="paragraph">
<p><a id="GFAUX"></a><a id="b.1.1-application-client-to-ejb-scenarios"></a></p>
</div>
<div class="sect3">
<h4 id="_b_1_1_application_client_to_jakarta_enterprise_beans_scenarios">B.1.1 Application Client-to-Jakarta Enterprise Beans Scenarios</h4>
<div class="paragraph">
<p>Each application client-to-Jakarta Enterprise Beans scenario includes an application client
and an Jakarta Enterprise Beans, as shown in <a href="#GFKGD">Figure B-1</a>. In the <code>forward</code>
direction, the application client is deployed on the Implementer Jakarta
Platform, Enterprise Edition server and the Jakarta Enterprise Beans is deployed on the
server that is running the Jakarta EE 8 CI. In the <code>reverse</code> direction, the
application client is deployed on the server that is running the Jakarta EE
8 CI, and the Jakarta Enterprise Beans is deployed on the Implementer Jakarta Platform, Enterprise
Edition Server. The Logging Interceptor (LI) is deployed on the server
that is running the Jakarta EE 8 CI.</p>
</div>
<div class="sect4">
<h5 id="GFKGD"><strong>Figure B-1 Application Client-to-Jakarta Enterprise Beans Test Scenario</strong></h5>
<div class="paragraph">
<p><span class="image"><img src="img/client2ejb.png" alt="Application Client-to-EJB Test Scenario"></span></p>
</div>
<div class="paragraph">
<p>Note: EJB and Java EE, in the figure above are references to Jakarta Enterprise Beans and Jakarta EE. RI
is replaced with CI (Compatible Implementation).</p>
</div>
<div class="paragraph">
<p><a id="GFAZD"></a><a id="b.1.2-jakarta-enterprise-beans-to-jakarta-enterprise-beans-test-scenarios"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_1_2_jakarta_enterprise_beans_to_jakarta_enterprise_beans_test_scenarios">B.1.2 Jakarta Enterprise Beans-to-Jakarta Enterprise Beans Test Scenarios</h4>
<div class="paragraph">
<p>Each of the Jakarta Enterprise Beans-to-Jakarta Enterprise Beans scenarios includes an application client and two
enterprise beans, as shown in <a href="#GFKEV">Figure B-2</a>. In the <code>forward</code>
direction, the application client and Jakarta Enterprise Bean 1 are deployed on the Implementer
Jakarta Platform, Enterprise Edition Server. Jakarta Enterprise Bean 2 is deployed on the server
that is running the Jakarta EE 8 CI. In the <code>reverse</code> direction, the
Application Client and Jakarta Enterprise Bean 3 are deployed on the server that is running
the Jakarta EE 8 CI. Jakarta Enterprise Bean 4 is deployed on the Implementer Jakarta Platform,
Enterprise Edition Server. The Logging Interceptor (LI) is deployed on
the server that is running the Jakarta EE 8 CI.</p>
</div>
<div class="sect4">
<h5 id="GFKEV"><strong>Figure B-2 Jakarta Enterprise Beans-to-Jakarta Enterprise Beans Test Scenario</strong></h5>
<div class="paragraph">
<p><span class="image"><img src="img/ejb2ejb.png" alt="EJB-to-EJB Test Scenario"></span></p>
</div>
<div class="paragraph">
<p>Note: EJB and Java EE, in the figure above are references to Jakarta Enterprise Beans and Jakarta EE. RI
is replaced with CI (Compatible Implementation).</p>
</div>
<div class="paragraph">
<p><a id="GFKEF"></a><a id="b.1.3-web-client-to-ejb-scenarios"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_1_3_web_client_to_jakarta_enterprise_beans_scenarios">B.1.3 Web Client-to-Jakarta Enterprise Beans Scenarios</h4>
<div class="paragraph">
<p>Each Web client-to-Jakarta Enterprise Beans scenarios includes an application client, a
servlet, and a Jakarta Enterprise Beans, as shown in <a href="#GFKGE">Figure B-3</a>. In the forward
direction, the application client and the Web client are deployed on the
Implementer Jakarta Platform, Enterprise Edition Server. The Jakarta Enterprise Beans is deployed
on the server that is running the Jakarta EE 8 CI. In the reverse
direction, the application client and the Web client are deployed on the
server that is running the Jakarta EE 8 CI. The Jakarta Enterprise Beans is deployed on the
Implementer Jakarta Platform, Enterprise Edition Server.</p>
</div>
<div class="sect4">
<h5 id="GFKGE"><strong>Figure B-3 Web-to-Jakarta Enterprise Beans Test Scenario</strong></h5>
<div class="paragraph">
<p><span class="image"><img src="img/web2ejb.png" alt="Web-to-EJB Test Scenario"></span></p>
</div>
<div class="paragraph">
<p>Note: EJB and Java EE, in the figure above are references to Jakarta Enterprise Beans and Jakarta EE. RI
is replaced with CI (Compatible Implementation).</p>
</div>
<div class="paragraph">
<p><a id="BACGHCAI"></a><a id="b.2-csiv2-logging-servlet"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_b_2_csiv2_logging_servlet">B.2 CSIv2 Logging Servlet</h3>
<div class="paragraph">
<p>Along with any EAR files for the directory under test, the Logging
Servlet should get copied over to the Jakarta EE 8 CI as part of the
autodeployment process. The Logging Servlet is needed on the Jakarta EE 8
CI. After the Logging Servlet has been deployed, verify that it is
working properly by accessing the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">http://localhost:8002/logger_servlet_web/LoggerServlet?log.file.location=USE_DEFAULT&amp;ping=</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>localhost</code> is the Jakarta EE 8 CI host represented as <code>ts.jte</code>
values <code>orb.host.ri</code> and <code>remote.orb.host</code> and <code>8002</code> is the port
represented as <code>ts.jte</code> values <code>webServerPort.2</code> and <code>remote.orb.port</code>.</p>
</div>
<div class="paragraph">
<p>If you can not access the page at URL on your Jakarta EE 8 CI, all CSIv2
tests will fail. Ensure that you can access the URL. Accessing this page
displays the following text:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">in LoggerServlet.ping()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Failure to access the page could be caused by one or more of the
following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One or more of the ts.jte properties (hostnames, ports, log dirs,
etc.) have been set incorrectly</p>
</li>
<li>
<p>The logging servlet does not have the necessary permissions to write
to the file system</p>
</li>
<li>
<p>The logging servlet does not have permissions to write to the file
system log directory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Several properties and JVM options that control logging need to be set
in the <code>ts.jte</code> file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ri.log.file.location</code> to the location to which the Jakarta EE 8 CI log
files will be written and optionally stored if the
<code>harness.log.traceflag</code> property is set to <code>true</code>. The setting for this
property should not have to be changed.</p>
</li>
<li>
<p><code>ri.jvm.options</code> to the following for the Jakarta EE 8 CI:</p>
<div class="ulist">
<ul>
<li>
<p><code>-Dremote.orb.port=${webServerPort.2}</code></p>
</li>
<li>
<p><code>-Dremote.orb.host=${orb.host.ri}</code></p>
</li>
<li>
<p><code>-Dri.log.file.location=${ri.log.file.location}</code></p>
</li>
<li>
<p><code>-Dcsiv2.save.log.file=${harness.log.traceflag}</code><br>
The settings for this property should not have to be changed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>command.testExecuteAppClient</code> and <code>command.testExecuteAppClient2</code> to
the following JVM properties:</p>
<div class="ulist">
<ul>
<li>
<p><code>-Dri.log.file.location=${ri.log.file.location} \</code></p>
</li>
<li>
<p><code>-Dremote.orb.host=${orb.host.ri} \</code></p>
</li>
<li>
<p><code>-Dremote.orb.port=${webServerPort.2} \</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>s1as.jvm.options</code> to the following JVM options in your VI:</p>
<div class="ulist">
<ul>
<li>
<p><code>-Dremote.orb.port=${webServerPort.2}</code></p>
</li>
<li>
<p><code>-Dremote.orb.host=${orb.host.ri}</code></p>
</li>
<li>
<p><code>-Dri.log.file.location=${ri.log.file.location}</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKFB"></a><a id="b.3-naming-conventions-for-csiv2-test-directories"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_b_3_naming_conventions_for_csiv2_test_directories">B.3 Naming Conventions for CSIv2 Test Directories</h3>
<div class="paragraph">
<p>The CSIv2 test directories are named according to the configuration that
they represent. All tests are located in subdirectories of the
<code>&lt;TS_HOME&gt;/src/com/sun/ts/tests/interop/csiv2</code> directory.</p>
</div>
<div class="paragraph">
<p>The CSIv2 test directories use the following naming conventions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">orig_prot_auth_assertion</code></pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>orig is the origin of the invocations:</p>
<div class="ulist">
<ul>
<li>
<p><code>ac</code>: Application client</p>
</li>
<li>
<p><code>ew</code>: Jakarta Enterprise Beans or Web client</p>
</li>
</ul>
</div>
</li>
<li>
<p>prot is the transport protection for the invocation:</p>
<div class="ulist">
<ul>
<li>
<p><code>ssln</code>: No SSL transport protection</p>
</li>
<li>
<p><code>ssl</code>: SSL transport protection</p>
</li>
</ul>
</div>
</li>
<li>
<p>auth is the authentication settings for the deployed beans:</p>
<div class="ulist">
<ul>
<li>
<p><code>sslr_upn</code>: SSL authentication Required, No Username/Password
authentication</p>
</li>
<li>
<p><code>ssln_upr</code>: No SSL authentication, Username/Password authentication
required</p>
</li>
<li>
<p><code>ssln_upn</code>: Neither SSL authentication nor Username/Password
authentication</p>
</li>
</ul>
</div>
</li>
<li>
<p>assertion is the type of identity assertion:</p>
<div class="ulist">
<ul>
<li>
<p><code>noid</code>: No identity assertion</p>
</li>
<li>
<p><code>noid_a</code>: Negative test case for no identity assertion</p>
</li>
<li>
<p><code>ccid</code>: Certificate chain assertion</p>
</li>
<li>
<p><code>upid</code>: Username/Password assertion</p>
</li>
<li>
<p><code>anonid</code>: Assertion of anonymous identity</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKGM"></a><a id="b.4-csiv2-test-directory-structure"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_b_4_csiv2_test_directory_structure">B.4 CSIv2 Test Directory Structure</h3>
<div class="paragraph">
<p>The directory structure for the CSIv2 tests begins at the
<code>tests/interop/csiv2</code> directory. The <code>/common</code> subdirectory contains
code that is common to all CSIv2 tests. The other subdirectories each
indicate different deployment settings. Each subdirectory has a
<code>/forward</code> and a <code>/reverse</code> subdirectory.</p>
</div>
<div class="paragraph">
<p>Tests in the <code>/forward</code> subdirectory are run in the forward direction
only (for example, the application client runs in the Implementer Jakarta
Platform, Enterprise Edition server, and a call is made to the Jakarta EE 8
CI server). Tests in the <code>/reverse</code> subdirectory are run in the reverse
direction only (for example, the application client runs in the server
that is running the Jakarta EE 8 CI, and a call is made to the Implementer
Jakarta Platform, Enterprise Edition server). The directory structure might
look like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">/tests
   /interop
      /csiv2
         /common
         /ac_ssl_sslr_upn_noid
            /forward
            /reverse
         /ac_ssl_ssln_upr_noid
            /forward
            /reverse
            ...</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GFKGF"></a><a id="b.5-naming-conventions-for-csiv2-test-names"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_b_5_naming_conventions_for_csiv2_test_names">B.5 Naming Conventions for CSIv2 Test Names</h3>
<div class="paragraph">
<p>The CSIv2 test names are structured as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">dirname_client-component_server-component_testid[_direction ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>dirname is the directory name of the test, under
<code>/tests/interop/csiv2</code>; for example:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">ew_ssl_ssln_upn_anonid</code></pre>
</div>
</div>
</li>
<li>
<p>client-component is the type of client component:</p>
<div class="ulist">
<ul>
<li>
<p><code>sb</code>: session bean</p>
</li>
<li>
<p><code>wb</code>: servlet</p>
</li>
</ul>
</div>
</li>
<li>
<p>server-component is the type of server component:</p>
<div class="ulist">
<ul>
<li>
<p><code>sb</code>: session bean</p>
</li>
</ul>
</div>
</li>
<li>
<p>testid is the test ID; for example, <code>testid3</code>.</p>
</li>
<li>
<p>direction is the direction of the test. The direction is omitted if
forward, or reverse if in the reverse direction. For these tests,
forward means from Implementer server to the Jakarta EE 8 CI server, and
reverse means from the Jakarta EE 8 CI server to the Implementer server. In
other words, the application client runs in the Implementer&#8217;s container in
the forward direction.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sample test application names for Jakarta Enterprise Beans-to-Jakarta Enterprise Beans tests include the
following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ew_ssl_ssln_upn_anonid_sb_sb_testid3</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GLSDH"></a><a id="b.6-security-elements-associated-with-csiv2-tests"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_b_6_security_elements_associated_with_csiv2_tests">B.6 Security Elements Associated With CSIv2 Tests</h3>
<div class="paragraph">
<p>This section includes the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GEXUI">The security-role-mapping Element</a></p>
</li>
<li>
<p><a href="#GEXUQ">The ior-security-config Element</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GEXUI"></a><a id="b.6.1-the-security-role-mapping-element"></a></p>
</div>
<div class="sect3">
<h4 id="_b_6_1_the_security_role_mapping_element">B.6.1 The security-role-mapping Element</h4>
<div class="paragraph">
<p>The <code>security-role-mapping</code> element defines role-to-principal,
role-to-group, and role-to-user-to-group mappings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A role is a logical grouping of users that is defined by an
application component provider or assembler.</p>
</li>
<li>
<p>A group is a set of users, classified by common traits, defined in the
Jakarta Platform, Enterprise Edition Application Server.<br>
Note that a Jakarta Platform, Enterprise Edition group is designated for
the entire Jakarta Platform, Enterprise Edition server, whereas a role is
associated with a specific application in a Jakarta Platform, Enterprise
Edition server only.</p>
</li>
<li>
<p>A principal is an individual (or application program) identity that
has been defined in the Jakarta Platform, Enterprise Edition Application
Server. Principals can be associated with a group.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>security-role-mapping</code> elements are defined in the following files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>applicationName`.ear.sun-application.xml`</p>
</li>
<li>
<p>applicationName`.jar.sun-ejb-jar.xml`</p>
</li>
<li>
<p>applicationName`.war.sun-web.xml`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, the definitions in the file
applicationName``.ear.sun-application.xml`` take precedence over the
definitions in the other files.</p>
</div>
<div class="paragraph">
<p>The examples that follow show how <code>role-name</code>, <code>principal-name</code>, and
<code>group-names</code> are used for <code>security-role-mapping</code>.</p>
</div>
<div class="sect4">
<h5 id="GEXWX">Example B-1 role-name Administrator</h5>
<div class="paragraph">
<p>The following example shows how <code>role-name</code> Administrator is mapped to
<code>principal-name</code> <code>javaee</code> and <code>principal-name</code> <code>javajoe</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;security-role-mapping&gt;
    &lt;role-name&gt;Administrator&lt;/role-name&gt;
    &lt;principal-name&gt;javaee&lt;/principal-name&gt;
    &lt;principal-name&gt;javajoe&lt;/principal-name&gt;
&lt;/security-role-mapping&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="GEXUS">Example B-2 role-name Manager</h5>
<div class="paragraph">
<p>The following example shows how <code>role-name</code> Manager is mapped to
<code>principal-name</code> <code>javajoe</code> and <code>group-name</code> <code>MGR</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;security-role-mapping&gt;
    &lt;role-name&gt;Manager&lt;/role-name&gt;
    &lt;principal-name&gt;javajoe&lt;/principal-name&gt;
    &lt;group-name&gt;MGR&lt;/group-name&gt;
&lt;/security-role-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GEXUQ"></a><a id="b.6.2-the-ior-security-config-element"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_6_2_the_ior_security_config_element">B.6.2 The ior-security-config Element</h4>
<div class="paragraph">
<p>The <code>ior-security-config</code> element, which describes the security
configuration information for the IOR, consists of three components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GLRET">The transport-config Element</a></p>
</li>
<li>
<p><a href="#GLREQ">The as-context Element</a></p>
</li>
<li>
<p><a href="#GLRFE">The sas-context Element</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the Jakarta Platform, Enterprise Edition Application Server, the
<code>ior-security-config</code> element is defined in the
applicationName`.jar.sun-ejb-jar.xml` file. The element looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn"> &lt;ior-security-config&gt;
   &lt;transport-config&gt;
     &lt;integrity&gt;supported&lt;/integrity&gt;
     &lt;confidentiality&gt;supported&lt;/confidentiality&gt;
     &lt;establish-trust-in-target&gt;supported&lt;/establish-trust-in-target&gt;
     &lt;establish-trust-in-client&gt;supported&lt;/establish-trust-in-client&gt;
   &lt;/transport-config&gt;
   &lt;as-context&gt;
     &lt;auth-method&gt;username_password&lt;/auth-method&gt;
     &lt;realm&gt;default&lt;/realm&gt;
     &lt;required&gt;false&lt;/required&gt;
   &lt;/as-context&gt;
   &lt;sas-context&gt;
     &lt;caller-propagation&gt;supported&lt;/caller-propagation&gt;
   &lt;/sas-context&gt;
 &lt;/ior-security-config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GLRET"></a><a id="b.6.2.1-the-transport-config-element"></a></p>
</div>
<div class="sect4">
<h5 id="_b_6_2_1_the_transport_config_element">B.6.2.1 The transport-config Element</h5>
<div class="paragraph">
<p>The <code>transport-config</code> element contains the following sub-elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>integrity</code>: The <code>integrity</code> field is used to indicate the integrity
requirements that a target places on the client at the SSL level.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Indicates that the target does not support integrity at the
SSL level</p>
</li>
<li>
<p><code>required</code>: Indicates that the target supports, but does not require,
integrity at the SSL level</p>
</li>
<li>
<p><code>supported</code>: Indicates that the target requires the client to
establish a secure connection with integrity at the SSL level</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>confidentiality</code>: The <code>confidentiality</code> field is used to indicate the
confidentiality requirements that a target places on the client at the
SSL level.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Indicates that the target does not support confidentiality at
the SSL level</p>
</li>
<li>
<p><code>required</code>: Indicates that the target requires the client to
establish a secure connection with confidentiality at the SSL level</p>
</li>
<li>
<p><code>supported</code>: Indicates that the target supports, but does not
require, confidentiality at the SSL level<br>
An IOR must be generated as shown below. Although confidentiality is
used as an example, the principles of IOR generation apply to all other
fields related to security requirements at the SSL level, including
<code>establish-trust-in-client</code>, <code>establish-trust-in-target</code>, and
<code>integrity</code>.</p>
</li>
<li>
<p>If the value for a field is <code>none</code>:</p>
<div class="ulist">
<ul>
<li>
<p>The bit that corresponds to the field in
<code>transport_mech.target_requires</code> must be set to <code>0</code>.</p>
</li>
<li>
<p>The bit that corresponds to the field in
<code>transport_mech.target_supports</code> must be set to <code>0</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the value for a field is <code>supported</code>:</p>
<div class="ulist">
<ul>
<li>
<p>The bit that corresponds to the field in
<code>transport_mech.target_supports</code> must be set to <code>1</code>.</p>
</li>
<li>
<p>The bit that corresponds to the field in
<code>transport_mech.target_requires</code> must be set to <code>0</code>.<br>
For example, if the value of the confidentiality field is true, the
following setting is necessary:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">transport_mech.target_supports = {Confidentiality}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If the value for a field is <code>required</code>:</p>
<div class="ulist">
<ul>
<li>
<p>The bit that corresponds to the field in
<code>transport_mech.target_requires</code> must be set to <code>1</code>.</p>
</li>
<li>
<p>The bit that corresponds to the field in
<code>transport_mech.target_supports</code> must also be set to <code>1</code>.</p>
</li>
<li>
<p>The bit that corresponds to the field must also be set in
<code>CompoundSecMec.target_requires</code>.<br>
For example, if the value of confidentiality is <code>required</code>, the
following settings are necessary:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">transport_mech.target_requires={Confidentiality}
transport_mech.target_supports={Confidentiality}
CompoundSecMec.target_requires={Confidentiality}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code>establish-trust-in-target</code>: The <code>establish-trust-in-target</code> field is
used to indicate whether a target can authenticate itself to a client at
the SSL level.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Indicates that the target cannot authenticate itself to the
client</p>
</li>
<li>
<p><code>supported</code>: Indicates that the target can authenticate itself to a
client</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>establish-trust-in-client</code>: The <code>establish-trust-in-client</code> field is
used to indicate the authentication requirements that a target places on
the client at the SSL level.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Indicates that the target does not support client
authentication at the SSL level</p>
</li>
<li>
<p><code>required</code>: Indicates the client must authenticate itself to the
target at the SSL level</p>
</li>
<li>
<p><code>supported</code>: Indicates that the target supports, but does not
require, client authentication at the SSL level</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GLREQ"></a><a id="b.6.2.2-the-as-context-element"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_b_6_2_2_the_as_context_element">B.6.2.2 The as-context Element</h5>
<div class="paragraph">
<p>The <code>as-context</code> element (CSIv2 authentication service) describes the
authentication mechanism that will be used to authenticate the client.
If specified, it will be the username-password mechanism.<code>as-context</code>
contains the following sub-elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auth-method</code>: The <code>auth-method</code> field indicates the authentication
mechanism that may be used to authenticate the client to the target at
the client authentication layer.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: Indicates that the target does not support client
authentication at the client authentication layer. The IOR must be
generated as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">as_context_mech.target_supports = {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the value is <code>none</code>, the <code>realm</code> and <code>required</code> field values are
irrelevant.</p>
</div>
</li>
<li>
<p><code>username_password</code>: Indicates that the authentication mechanism is
the <code>GSSUP</code> mechanism. This value is relevant and should only be used
when <code>asRequired</code> is <code>true</code>. When set to <code>true</code>, the IOR must be
generated as described in the <code>required</code> field summary.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>realm</code>: The <code>realm</code> field contains the name of the realm in which the
user is to be authenticated.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>none</code></p>
</li>
<li>
<p><code>default</code>: This field is relevant and should only be used when the <code>required</code> field
is set to <code>true</code>, in which case the IOR must be generated as described
in the <code>required</code> field summary.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>required</code>: The <code>required</code> field specifies whether or not a client is
required to authenticate at the client authentication layer.<br>
Valid values are:</p>
<div class="ulist">
<ul>
<li>
<p><code>true</code>: Indicates that the client is required to authenticate at the
client authentication layer.<br>
If the value is <code>true</code>, an IOR must be generated as follows:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>as_context_mech</code> must contain a client authentication mechanism
derived from the value of the <code>auth-method</code> field. If the value of the
<code>auth-method</code> field is <code>username_password</code>, the client authentication
mechanism must be set to <code>GSSUP_OID</code>; for example:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">as_context_mech.client_authentication_mech = GSSUP_OID</code></pre>
</div>
</div>
</li>
<li>
<p>The target name must match the value of the <code>realm</code> field:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">as_context_mech.target_name = {realm}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>establish-trust-in-client</code> bit must be set in the following
fields:</p>
<div class="ulist">
<ul>
<li>
<p><code>as_context_mech.target_supports={EstablishTrustInClient}</code></p>
</li>
<li>
<p><code>as_context_mech.target_requires={EstablishTrustInClient}</code></p>
</li>
<li>
<p><code>CompoundSecMec.target_requires={EstablishTrustInClient}</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>false</code>: Indicates that client authentication at the client
authentication layer is not required.<br>
The value of the <code>required</code> field can be <code>false</code>. However, in the CSIv2
tests, whenever the required field is <code>false</code>, the <code>auth-method</code> field
must always be set to <code>none</code>. In this case, the IOR must be generated as
described in the <code>auth-method</code> field summary.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GLRFE"></a><a id="b.6.2.3-the-sas-context-element"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_b_6_2_3_the_sas_context_element">B.6.2.3 The sas-context Element</h5>
<div class="paragraph">
<p>The <code>sas-context</code> element describes caller propagation. The
<code>caller-propagation</code> field indicates whether the target will accept
propagated caller identities. Valid values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>none</code>: If the value of the <code>sas-context</code> element is <code>none</code>, the IOR must be
generated as follows:</p>
<div class="ulist">
<ul>
<li>
<p>The bit that corresponds to the field in
<code>sas_context_mech.target_supports</code> must be set to zero, as shown:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">sas_context_mech.target_supports={}</code></pre>
</div>
</div>
</li>
<li>
<p>The value in the field <code>sas_context_mech.supported_naming_mechanisms</code>
must be set to zero, as shown:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">supported_naming_mechanisms={}</code></pre>
</div>
</div>
</li>
<li>
<p>The bit that corresponds to <code>ITTPrincipalName</code>, <code>ITTDistinguishedName</code>,
<code>ITTX509CertChain</code>, and <code>ITTAnonymous</code> in the
<code>sas_context_mech.supported_identity_types</code> field must be set to zero.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>supported</code>: If the value of the <code>sas-context</code> element is <code>supported</code>, the IOR must
be generated as follows:</p>
<div class="ulist">
<ul>
<li>
<p>The bit that corresponds to the field in
<code>sas_context_mech.target_supports</code> must be set as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">sas_context_mech.target_supports={IdentityAssertion}</code></pre>
</div>
</div>
</li>
<li>
<p>The <code>sas_context_mech.supported_naming_mechanisms</code> field must contain
at least <code>GSSUPMechOID</code>, as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">supported_naming_mechanisms={GSSUPMechOID}</code></pre>
</div>
</div>
</li>
<li>
<p>The <code>ITTPrincipalName</code> bit must be set in the
<code>sas_context_mech.supported_identity_types</code>, as shown:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">sas_context_mech.supported_identity_types= \
{ITTPrincipalName, ITTDistinguishedName, \
ITTX509CertChain, ITTAnonymous}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GJJVO"></a><a id="b.7-debugging-csiv2-test-failures"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_b_7_debugging_csiv2_test_failures">B.7 Debugging CSIv2 Test Failures</h3>
<div class="paragraph">
<p>The CSIv2 test infrastructure provides two areas from which to obtain
debugging output:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jakarta EE 8 CTS clients, beans, and servlets</p>
</li>
<li>
<p>Jakarta EE 8 CTS CSIv2 interceptors</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The sections that follow explain how to enable/disable logging to help
you debug CSIv2 test failures.</p>
</div>
<div class="paragraph">
<p><a id="GJJWV"></a><a id="b.7.1-debugging-cts-clients-beans-and-servlets"></a></p>
</div>
<div class="sect3">
<h4 id="_b_7_1_debugging_cts_clients_beans_and_servlets">B.7.1 Debugging CTS Clients, Beans, and Servlets</h4>
<div class="paragraph">
<p>The first area in which you can enable logging is Jakarta EE 8 CTS clients,
beans, and servlets. If you have done any debugging in other technology
areas in the Jakarta EE 8 CTS test suite, you are likely to be familiar
with enabling and using logging to obtain additional information with
which you can debug test problems. This kind of debugging output is
enabled by setting the <code>harness.log.traceflag</code> property to "true" in the
<code>&lt;TS_HOME&gt;/bin/ts.jte</code> file.</p>
</div>
<div class="paragraph">
<p><a id="GJJVS"></a><a id="b.7.2-debugging-cts-csiv2-interceptors"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_b_7_2_debugging_cts_csiv2_interceptors">B.7.2 Debugging CTS CSIv2 Interceptors</h4>
<div class="paragraph">
<p>The second area in which you can enable logging is Jakarta EE 8 CTS CSIv2
interceptors, including Logging Interceptor Factory, Server Interceptor,
and Client Interceptor. These three entities are configured during the
CSIv2 test setup, which is described in <a href="config.html#GEXWW">CSIv2 Test
Setup</a>, by executing the <code>enable.csiv2</code> Ant task. During that
configuration step, the following lines are added to the
<code>&lt;javaee.home.ri&gt;/domains/domain1/config/logging.properties</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.ts.tests.interop.csiv2.common.LoggingSecRequestInterceptorFactory.level=INFO
com.sun.ts.tests.interop.csiv2.common.LoggingSecClientRequestInterceptor.level=INFO
com.sun.ts.tests.interop.csiv2.common.LoggingSecServerRequestInterceptor.level=INFO</code></pre>
</div>
</div>
<div class="paragraph">
<p>These properties control the logging levels of the CSIv2 interceptors.
By default, "INFO" level logging is enabled, which yields only minimal
output in the <code>server.log</code> file.</p>
</div>
<div class="paragraph">
<p><a id="GJJWI"></a><a id="b.7.2.1-to-increase-the-logging-level"></a></p>
</div>
<div class="sect4">
<h5 id="_b_7_2_1_to_increase_the_logging_level">B.7.2.1 To Increase the Logging Level</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop the Jakarta EE 8 CI.</p>
</li>
<li>
<p>Edit the file
<code>&lt;javaee.home.ri&gt;/domains/domain1/config/logging.properties</code> and set the
logging level to "FINE" for the three CSIv2 interceptors.</p>
</li>
<li>
<p>Restart the Jakarta EE 8 CI.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>From this point on, an increased amount of logging output from the Java
EE 8 CTS CSIv2 logging interceptors will be written to the <code>server.log</code>
file.</p>
</div>
<div class="paragraph">
<p><a id="GJJWY"></a><a id="b.7.2.2-to-reset-the-logging-level"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_b_7_2_2_to_reset_the_logging_level">B.7.2.2 To Reset the Logging Level</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop the Jakarta EE 8 CI.</p>
</li>
<li>
<p>Edit the file
<code>&lt;javaee.home.ri&gt;/domains/domain1/config/logging.properties</code> and set the
logging level back to "INFO" for the three CSIv2 interceptors.</p>
</li>
<li>
<p>Restart the Jakarta EE 8 CI.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Execution of the <code>disable.csiv2</code> Ant target, which is explained in
<a href="config.html#GEXWW">CSIv2 Test Setup</a>, will remove the three
properities from the
<code>&lt;javaee.home.ri&gt;/domains/domain1/config/logging.properties</code> file.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="sthref56"></a><a id="b.7.3-debugging-logging-servlet-problems"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_7_3_debugging_logging_servlet_problems">B.7.3 Debugging Logging Servlet Problems</h4>
<div class="paragraph">
<p>If the <code>harness.log.traceflag</code> property has been set to <code>true</code>, you
should be able to view the log files. If you do not see any log file(s),
you are likely missing a JVM property setting somewhere (for example, in
the CI, in the VI, or in the application client). Another possible cause
of the problem could be that your host and port properties
(<code>remote.orb.host</code> and <code>remote.orb.port</code>)are not set correctly. You
should also be able to deploy the Logging Servlet and access the ping
that was described <a href="#BACGHCAI">Section B.2, "CSIv2 Logging
Servlet."</a>.</p>
</div>
<div class="paragraph">
<p>If you see only a small part of the log file, you need to identify the
missing log file entry and determine from where it did not get logged.
In other words, you need to identify the component (VI, the CI, or the
interceptor) in which logging failed to complete correctly. Once
isolating this, you can check <code>server.log</code> files for clues, such as
permissions not being set up correctly or a particular JVM option is
missing or incorrectly set, etc.</p>
</div>
<div class="paragraph">
<p>If you see a log file and the content looks to be correct but the test
but is not passing the final validation (log files are run thru an XML
validator on the client side), you can compare your log files to sample
log files from successful runs. These reference log files can be see at
<code>TS_HOME/src/com/sun/ts/tests/interop/csiv2/reference_logs</code>.</p>
</div>
<div class="paragraph">
<p><a id="GFKFC"></a><a id="b.8-examining-test-logs"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_b_8_examining_test_logs">B.8 Examining Test Logs</h3>
<div class="paragraph">
<p><a id="GFKGL"></a><a id="b.8.1-to-examine-the-test-logs"></a></p>
</div>
<div class="sect3">
<h4 id="_b_8_1_to_examine_the_test_logs">B.8.1 To Examine the Test Logs</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The first thing you will notice is the direction in which the test
is running:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">LocalSessionBean (VI) ====&gt; RemoteSessionBean (CI)</code></pre>
</div>
</div>
<div class="paragraph">
<p>VI-to-CI indicates that the test is running in the forward direction;
CI-to-VI indicates that the test is running in the reverse direction.</p>
</div>
</li>
<li>
<p>The test direction is followed by a trace that outlines the path of
execution (for example, from a local session bean to a remote session
bean).</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">INVOKING java:comp/env/ejb/LocalSession...
   SVR: Initialize remote logging
   SVR: CSIv2SessionBean.ejbCreateInvoke()
   SVR: Initialize remote logging
   SVR: CSIv2SessionBean.invoke()
   SVR: Entering CSIv2TestLogicImpl.invoke()
   SVR: INVOKING java:comp/env/ejb/RemoteSession...
   SVR: Initialize remote logging
   SVR: CSIv2SessionBean.ejbCreateInvoke()
   SVR: Initialize remote logging
   SVR: CSIv2SessionBean.invoke()
   SVR: Entering CSIv2TestLogicImpl.invoke()
   SVR: Exiting CSIv2TestLogicImpl.invoke()
   SVR: Exiting CSIv2TestLogicImpl.invoke()</code></pre>
</div>
</div>
<div class="paragraph">
<p>The CSIv2 tests maintain a log during the invocation. The log is in XML
format, and is organized to match the flow of test execution.<br>
By examining the contents of the log, you can trace the test execution
and see what happened in the test. See <a href="#GFKHS">CSIv2 Log Elements</a>
for a detailed description of the DTD elements that make up the CSIv2
log.</p>
</div>
</li>
<li>
<p>Output validation results follow the log.<br>
In the forward direction, the tests validate the request (see the
EstablishContext message). In the reverse direction, the tests validate
the IOR that the Implementer&#8217;s Jakarta EE 8 server publishes for the Jakarta Enterprise Beans and
the response (see the <code>CompleteEstablishContext</code> message or the
<code>ContextError</code> message). See <a href="#GFKKB">IORs and Associated CSIv2
Tests</a> for a list of the IORs that the test validation code and the test
strategy descriptions reference.<br>
The test output shows you what it is being validated for each test, and
indicates the exact section of the log that is being analyzed. See
<a href="#GFKHL">Example B-3</a>, below.</p>
</li>
<li>
<p>Next, the test output indicates what matched and what mismatched.<br>
Lines that start with the plus sign (<code>+</code>) indicate matches. Lines that
start with "<code>MISMATCH:</code>" indicate mismatches. Lines that start with
neither are informational messages.<br>
<code>MISMATCH</code> messages indicate what was expected. The log tells you what
was received. See <a href="#GFKGA">Example B-4</a>.<br>
The reverse direction tests validate that the IOR that is published by
the Implementer Jakarta Platform, Enterprise Edition Server matches the
expected result. The CSIv2 log will represent the values collected for
<code>target_supports</code>, <code>target_requires</code>, and other CSIv2 IOR structures as
decimal integers. In accordance with the CSIv2 specification, these
values represent a bit mask. To determine the meaning of the bits that
have been set in the bit mask, see <a href="#GLREW">Bit Mask Values for CSIv2
IOR Structures</a>.</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="GFKHL">Example B-3 Sample Validation Log</h5>
<div class="paragraph">
<p>In the following, <em>EJB</em> refers to Jakarta Enterprise Beans</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">--------------------------------------------
Validating EJBRemote IOR...
   Validating the following IOR against IOR.4:
--------------------------------------------
&lt;ior&gt;
   &lt;port&gt;44139&lt;/port&gt;
   &lt;stateful&gt;false&lt;/stateful&gt;
   &lt;compound-sec-mech&gt;
     &lt;target-requires&gt;0&lt;/target-requires&gt;
     &lt;ior-transport-mech&gt;
       &lt;null-trans/&gt;
     &lt;/ior-transport-mech&gt;
     &lt;ior-as-context&gt;
       &lt;target-supports&gt;0&lt;/target-supports&gt;
       &lt;target-requires&gt;0&lt;/target-requires&gt;
       &lt;client-authentication-mech&gt;&lt;/client-authentication-mech&gt;
       &lt;target-name&gt;&lt;/target-name&gt;
     &lt;/ior-as-context&gt;
     &lt;ior-sas-context&gt;
       &lt;target-supports&gt;1024&lt;/target-supports&gt;
       &lt;target-requires&gt;0&lt;/target-requires&gt;
       &lt;supported-naming-mechanism&gt;0606678102010101&lt;/supported-naming-mechanism&gt;
       &lt;supported-identity-types&gt;15&lt;/supported-identity-types&gt;
     &lt;/ior-sas-context&gt;
   &lt;/compound-sec-mech&gt;
&lt;/ior&gt;
-------------------------------------------
Testing CompoundSecMech 1 of 1...
   Testing Naming Mechanisms 1 of 1...
      + This naming mechanism matches IOR.4
      + At least one naming mechanism matched IOR.4.
      + This CompoundSecMech matches IOR.4
      + At least one compound sec mech matched IOR.4.
EJBRemote IOR Valid.</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="GFKGA">Example B-4 Sample Mismatch Log</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">-------------------------------------------
Validating EJBHome IOR...
   Validating the following IOR against IOR.3:
-------------------------------------------
&lt;ior&gt;
   &lt;port&gt;0&lt;/port&gt;
   &lt;stateful&gt;false&lt;/stateful&gt;
   &lt;compound-sec-mech&gt;
     &lt;target-requires&gt;70&lt;/target-requires&gt;
     &lt;ior-transport-mech&gt;
       &lt;tls-trans&gt;
         &lt;target-supports&gt;38&lt;/target-supports&gt;
         &lt;target-requires&gt;6&lt;/target-requires&gt;
         &lt;trans-addr&gt;
           &lt;host-name&gt;129.148.71.198&lt;/host-name&gt;
           &lt;port&gt;0&lt;/port&gt;
         &lt;/trans-addr&gt;
       &lt;/tls-trans&gt;
     &lt;/ior-transport-mech&gt;
     &lt;ior-as-context&gt;
       &lt;target-supports&gt;64&lt;/target-supports&gt;
       &lt;target-requires&gt;64&lt;/target-requires&gt;
       &lt;client-authentication-mech&gt;&lt;/client-authentication-mech&gt;
       &lt;target-name&gt;&lt;/target-name&gt;
     &lt;/ior-as-context&gt;
     &lt;ior-sas-context&gt;
       &lt;target-supports&gt;1024&lt;/target-supports&gt;
       &lt;target-requires&gt;0&lt;/target-requires&gt;
       &lt;supported-identity-types&gt;15&lt;/supported-identity-types&gt;
     &lt;/ior-sas-context&gt;
   &lt;/compound-sec-mech&gt;
&lt;/ior&gt;
-------------------------------------------
Testing CompoundSecMech 1 of 1...
   MISMATCH: Mismatch on target requires.
   Testing Transport Address 1 of 1...
   MISMATCH: Mismatch on port.
   MISMATCH: This transport address does not match IOR.3.
   MISMATCH: None of the transport address matched IOR.3.
   MISMATCH: Mismatch on IOR Transport Mech
   MISMATCH: Mismatch on AS Context
   MISMATCH: None of the naming mechs matched IOR.3.
   MISMATCH: Mismatch on SAS Context
   MISMATCH: This CompoundSecMech does not match IOR.3
   MISMATCH: None of the compound sec mechs matched IOR.3.
EJBHome IOR Invalid.
The following test output contains both matches and mismatches.
-------------------------------------------
Skipping IOR validation.
   Validating EJBHome and EJBRemote invocation request...
   Validating EJBHome Invocation Request...
   Validating the following invocation:
---------------------------------------
&lt;client&gt;
   &lt;server-interceptor&gt;
     &lt;operation&gt;createInvoke&lt;/operation&gt;
     &lt;req-svc-context present="true"&gt;
       &lt;establish-context&gt;
         &lt;client-context-id&gt;0&lt;/client-context-id&gt;
         &lt;identity-token&gt;
           &lt;anonymous/&gt;
         &lt;/identity-token&gt;
         &lt;client-auth-token&gt;&lt;/client-auth-token&gt;
         &lt;authz-token-count&gt;0&lt;/authz-token-count&gt;
       &lt;/establish-context&gt;
     &lt;/req-svc-context&gt;
     &lt;ssl-used&gt;false&lt;/ssl-used&gt;
     &lt;transport-client-principals&gt;
     &lt;/transport-client-principals&gt;
     &lt;server&gt;
       &lt;invocation-principal&gt;guest&lt;/invocation-principal&gt;
     &lt;/server&gt;
     &lt;reply-svc-context present="true"&gt;
       &lt;complete-establish-context&gt;
         &lt;client-context-id&gt;0&lt;/client-context-id&gt;
         &lt;context-stateful&gt;false&lt;/context-stateful&gt;
         &lt;final-context-token&gt;&lt;/final-context-token&gt;
       &lt;/complete-establish-context&gt;
     &lt;/reply-svc-context&gt;
   &lt;/server-interceptor&gt;
&lt;/client&gt;
-------------------------------------------
+ Match: Transport client principals absent, as expected.
+ Match: SAS Client principal present.
MISMATCH: Identity Token Type is invalid.  Expecting one of
the following:
   * ITTX509CertChain
   * ITTDistinguishedName
Found:
   * ITTAnonymous
MISMATCH: Mismatched SAS Identity Token Type.
EJBHome Invocation Request Invalid.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GLREW"></a><a id="b.8.2-bit-mask-values-for-csiv2-ior-structures"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_8_2_bit_mask_values_for_csiv2_ior_structures">B.8.2 Bit Mask Values for CSIv2 IOR Structures</h4>
<div class="paragraph">
<p><a href="#GLRES">Table B-1</a> shows the bit mask values for the
<code>target_supports</code> and <code>target_requires</code> elements of the IOR structures.</p>
</div>
<div class="paragraph">
<p>These values and their meanings are shown on pages 16-38 and 16-69 of
the CSIv2 specification, which can be found at the following location:</p>
</div>
<div class="paragraph">
<p><code>http://www.omg.org/csiv2-ftf/csiv2-061401.pdf</code></p>
</div>
<div class="paragraph">
<p><a id="sthref57"></a><a id="GLRES"></a></p>
</div>
<div class="sect4">
<h5 id="_table_b_1_bit_mask_values_for_ior_structures">Table B-1 Bit Mask Values for IOR Structures</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 10%;">
<col style="width: 33%;">
<col style="width: 32%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Association Option</th>
<th class="tableblock halign-left valign-top">Bit Mask Value</th>
<th class="tableblock halign-left valign-top">target_supports</th>
<th class="tableblock halign-left valign-top">target_requires</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integrity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target supports integrity protected messages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target
requires integrity protected messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confidentiality</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target supports privacy protected messages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target
requires privacy protected messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EstablishTrustInTarget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target can authenticate to a client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not
applicable. This bit should never be set, and should be ignored by CSS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EstablishTrustInClient</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target can authenticate a client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target
requires client authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IdentityAssertion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1024</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Target accepts asserted caller identities based on trust in the
authentication identity of the asserting entity. Target can evaluate
trust based on trust rules of the target. If DelegationByClient is set,
target can also evaluate trust when provided with a delegation token
(that is, a proxy attribute contained in an authorization token).</p>
</div>
<div class="paragraph">
<p>Note: A target policy that accepts only identity assertions based on
forward trust cannot be communicated in an IOR (although it can be
enforced).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable. This bit should never be set, and should be ignored by
CSS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DelegationByClient</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>When it occurs in conjunction with support for IdentityAssertion, this
bit indicates that target can evaluate trust in an asserting entity
based on a delegation token.</p>
</div>
<div class="paragraph">
<p>Note: If an incoming request includes an identity token and a delegation
token, the request shall be rejected if the delegation token does not
endorse the asserting entity.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Target requires that CSS provide a delegation token that endorses the
target as proxy for the client.</p>
</div>
<div class="paragraph">
<p>Note: A target with DelegationByClient set in <code>target_requires</code> shall
also have this bit set in <code>target_supports</code>. As noted elsewhere in this
table, this has an impact on the target&#8217;s identity assertion policy (if
any).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GFKHS"></a><a id="b.9-csiv2-log-elements"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_b_9_csiv2_log_elements">B.9 CSIv2 Log Elements</h3>
<div class="paragraph">
<p>The CSIv2 log is stored in an XML format. This section describes the
CSIv2 log elements. By understanding what these elements mean, you can
use the log contents that are output from each test as a debugging aid.
The CSIv2 log can be found in the CTS test source code, in the following
location:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">src/com/sun/ts/tests/interop/csiv2/common/parser/csiv2log.dtd</code></pre>
</div>
</div>
<div class="paragraph">
<p>This section includes the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GFKGW">Key Elements in the CSIv2 Log</a></p>
</li>
<li>
<p><a href="#GFKHC">Key Elements in the Server Interceptor Log</a></p>
</li>
<li>
<p><a href="#GFKHA">Key Elements in the Client Interceptor Log</a></p>
</li>
<li>
<p><a href="#GFKGT">Key Elements in an IOR Log</a></p>
</li>
<li>
<p><a href="#GFKHQ">Comprehensive List of All CSIv2 Log Elements</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKGW"></a><a id="b.9.1-key-elements-in-the-csiv2-log"></a></p>
</div>
<div class="sect3">
<h4 id="_b_9_1_key_elements_in_the_csiv2_log">B.9.1 Key Elements in the CSIv2 Log</h4>
<div class="paragraph">
<p>The key elements of a CSIv2 log include the <code>&lt;ejb-home&gt;</code> and
<code>&lt;ejb-remote&gt;</code> elements. These elements, in turn, contain the log
information for the Jakarta Enterprise Beans (EJB) home and remote interfaces.</p>
</div>
<div class="sect4">
<h5 id="GFKHO">Example B-5 CSIv2 Log Elements</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;csiv2log&gt;
   &lt;ejb-home&gt;
      &lt;client&gt;
         &lt;client_interceptor&gt; | &lt;server_interceptor&gt;
         &lt;/client_interceptor&gt; | &lt;/server_interceptor&gt;
      &lt;/client&gt;
   &lt;/ejb-home&gt;
   &lt;ejb-remote&gt;
      &lt;client&gt;
         &lt;client_interceptor&gt; | &lt;server_interceptor&gt;
         &lt;/client_interceptor&gt; | &lt;/server_interceptor&gt;
      &lt;/client&gt;
   &lt;/ejb-remote&gt;
&lt;/csiv2log&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>&lt;ejb-home&gt;</code> element contains the <code>&lt;client&gt;</code> tag, which indicates
that the test component is the client in an invocation and
<code>&lt;client_interceptor&gt;</code> or <code>&lt;server_interceptor&gt;</code>, based on reverse or
forward tests.</p>
</li>
<li>
<p>The <code>&lt;ejb-remote&gt;</code> element contains a similar set of elements as the
<code>&lt;ejb-home&gt;</code> element.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During forward testing (from VI to CI) using a simple scenario, such as
an application client directly invoking an Jakarta Enterprise Beans, only the
<code>&lt;client_interceptor&gt;</code> is logged. Conversely, during reverse testing
(from CI to VI) using a simple scenario, the <code>&lt;server_interceptor&gt;</code> is
logged.</p>
</div>
<div class="paragraph">
<p>For a complex scenario, such as an application client invoking an Jakarta Enterprise Beans,
which in turn invokes another Jakarta Enterprise Beans, both client and server interceptor
elements are logged. Other complex scenarios could log multiple client
and server interceptors.</p>
</div>
<div class="paragraph">
<p><a id="GFKHC"></a><a id="b.9.2-key-elements-in-the-server-interceptor-log"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_9_2_key_elements_in_the_server_interceptor_log">B.9.2 Key Elements in the Server Interceptor Log</h4>
<div class="paragraph">
<p>The server interceptor element includes the <code>&lt;req_svc_context&gt;</code>,
<code>&lt;ssl_used&gt;</code>, <code>&lt;transport_client_principals&gt;</code>, <code>&lt;server&gt;</code>, and
<code>&lt;reply_svc_context&gt;</code> elements.</p>
</div>
<div class="sect4">
<h5 id="GFKHT">Example B-6 Server Interceptor Log Elements</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;server_interceptor&gt;
   &lt;req_svc_context&gt; ... &lt;/req_svc_context&gt;
   &lt;ssl_used&gt; true | false &lt;/ssl_used&gt;
      &lt;transport_client_principals&gt; ... &lt;/transport_client_principals&gt;
      &lt;server&gt; ... &lt;/server&gt;
      &lt;reply_svc_context&gt; ... &lt;/reply_svc_context&gt;
&lt;/server_interceptor&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Service contexts provide a means of passing service-specific information
as part of IIOP message headers.</p>
</div>
<div class="paragraph">
<p>These elements contain the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>&lt;req_svc_context&gt;</code> element contains the service context
information for the request.</p>
</li>
<li>
<p>The <code>&lt;ssl_used&gt;</code> element indicates whether the transport is protected
with SSL or not.</p>
</li>
<li>
<p>The <code>&lt;transport_client_principals&gt;</code> element contains the principal
used by the container for authentication at the SSL level.</p>
</li>
<li>
<p>The <code>&lt;server&gt;</code> element logs the invocation principal if the request
reaches the other end.</p>
</li>
<li>
<p>The <code>&lt;reply_svc_context&gt;</code> element contains the service context
information for the reply.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKHA"></a><a id="b.9.3-key-elements-in-the-client-interceptor-log"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_9_3_key_elements_in_the_client_interceptor_log">B.9.3 Key Elements in the Client Interceptor Log</h4>
<div class="paragraph">
<p>The client interceptor element includes the <code>&lt;req_svc_context&gt;</code>,
<code>&lt;ssl_used&gt;</code>, <code>&lt;ior&gt;</code>, <code>&lt;server&gt;</code>, <code>&lt;location_forward&gt;</code>, and
<code>&lt;reply_svc_context&gt;</code> elements.</p>
</div>
<div class="sect4">
<h5 id="GFKHB">Example B-7 Client Interceptor Log Elements</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;client_interceptor&gt;
     &lt;req_svc_context&gt; ... &lt;/req_svc_context&gt;
     &lt;ssl_used&gt; true | false &lt;/ssl_used&gt;
     &lt;ior&gt; ... &lt;/ior&gt;
     &lt;server&gt; ... &lt;/server&gt;
     &lt;location_forward&gt; ... &lt;/location_forward&gt;
     &lt;reply_svc_context&gt; ... &lt;/reply_svc_context&gt;
&lt;/client_interceptor&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Service contexts provide a means of passing service-specific information
as part of IIOP message headers.</p>
</div>
<div class="paragraph">
<p>The client interceptor elements contain the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>&lt;req_svc_context&gt;</code> element contains the service context
information for the request.</p>
</li>
<li>
<p>The <code>&lt;ssl_used&gt;</code> element indicates whether the transport is protected
with SSL or not.</p>
</li>
<li>
<p>The <code>&lt;ior&gt;</code> element contains the Interoperable Object Reference, which
describes security policies of an Jakarta Enterprise Beans component.</p>
</li>
<li>
<p>The <code>&lt;location_forward&gt;</code> element is <code>true</code> if the Client Security
Service (CSS) received a location forward in response to a request. If
this is the case, the client will establish a confidential connection
with the new address.<br>
A <code>true</code> value also indicates that the log will contain another client
interceptor element. The test validation mechanism will ignore client
interceptor elements that end in a location forward.</p>
</li>
<li>
<p>The <code>&lt;reply_svc_context&gt;</code> element contains the service context
information for the reply.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKGT"></a><a id="b.9.4-key-elements-in-an-ior-log"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_9_4_key_elements_in_an_ior_log">B.9.4 Key Elements in an IOR Log</h4>
<div class="paragraph">
<p>An IOR includes the <code>&lt;port&gt;</code> and <code>&lt;stateful&gt;</code> elements and the
<code>&lt;compound_sec_mech&gt;</code> structure. The <code>&lt;compound_sec_mech&gt;</code> structure
contains the <code>&lt;target_requires&gt;</code>, <code>&lt;ior_transport_mech&gt;</code>,
<code>&lt;ior_as_context&gt;</code>, and <code>&lt;ior_sas_context&gt;</code> elements.</p>
</div>
<div class="sect4">
<h5 id="GFKHD">Example B-8 IOR Log Elements</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;ior&gt;
   &lt;port&gt; ... &lt;/port&gt;
   &lt;stateful&gt; true | false &lt;/stateful&gt;
   &lt;compound_sec_mech&gt;
      &lt;target_requires&gt; ... &lt;/target_requires&gt;
      &lt;ior_transport_mech&gt; ... &lt;/ior_transport_mech&gt;
      &lt;ior_as_context&gt; ... &lt;/ior_as_context&gt;
      &lt;ior_sas_context&gt; ... &lt;/ior_sas_context&gt;
   &lt;compound_sec_mech&gt;
&lt;/ior&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These elements contain the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>&lt;port&gt;</code> element can contain a zero or a nonzero number.<br>
A nonzero port number indicates that the target supports unprotected
IIOP invocations at the specified port number.<br>
A zero port number indicates that the target supports protected IIOP
invocations only.</p>
</li>
<li>
<p>The <code>&lt;stateful&gt;</code> element is <code>true</code> if the target supports the
establishment of stateful or reusable contexts.</p>
</li>
<li>
<p>The <code>&lt;compound_sec_mech&gt;</code> structure describes support in the target
for a compound security mechanism that may include security
functionality that is realized in the transport layer and/or security
functionality above the transport layer.</p>
</li>
<li>
<p>The <code>&lt;target_requires&gt;</code> element designates a required outcome that
shall be satisfied by one or more supporting (but not requiring) layers.</p>
</li>
<li>
<p>The <code>&lt;ior_transport_mech&gt;</code> element describes the security
functionality that is implemented in the transport layer.</p>
</li>
<li>
<p>The <code>&lt;ior_as_context&gt;</code> element describes the client authentication
functionality that the target expects to be layered above the transport
layer in the service context.
*
 The <code>&lt;ior_sas_context&gt;</code> element describes the target&#8217;s identity
assertion support or support of authorization attributes that are
delivered in the service context.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKHQ"></a><a id="b.9.5-comprehensive-list-of-all-csiv2-log-elements"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_9_5_comprehensive_list_of_all_csiv2_log_elements">B.9.5 Comprehensive List of All CSIv2 Log Elements</h4>
<div class="paragraph">
<p><a href="#GFKGY">Table B-2</a> provides a comprehensive list of all CSIv2 log
elements.</p>
</div>
<div class="paragraph">
<p><a id="sthref58"></a><a id="GFKGY"></a></p>
</div>
<div class="sect4">
<h5 id="_table_b_2_csiv2_log_elements">Table B-2 CSIv2 Log Elements</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;csiv2-log&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Root XML node. Contains 1 or more <code>&lt;assertion&gt;</code>
elements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;assertion&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains information relevant to a single test
assertion. Contains a <code>name</code> attribute and an <code>&lt;invocation&gt;</code> element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;invocation&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates an invocation was started from a client
component to a server component. We analyze invocation information for
both an Jakarta Enterprise Beans Home (<code>&lt;ejb-home&gt;</code>) and an Jakarta Enterprise Beans Remote (<code>&lt;ejb-remote&gt;</code>)
invocation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;ejb-home&gt;</code> / <code>&lt;ejb-remote&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Separates the Jakarta Enterprise Beans Home from the Jakarta Enterprise Beans
Remote invocation information. Both elements contain a single <code>&lt;client&gt;</code>
element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;client&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that this component is a client in an invocation.
Contains a <code>&lt;reply&gt;</code> element and either a <code>&lt;client-interceptor&gt;</code>,
<code>&lt;server-interceptor&gt;</code>, or a <code>&lt;server&gt;</code> element. The invocation
determines which interceptor is to be invoked based on the whether the
invoking component is acting as a client or as a server. For example, if
an Jakarta Enterprise Beans acts as a server to an invocation, then the server-interceptor
will be invoked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;reply&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates a reply in an invocation. Can be either
<code>&lt;create-exception&gt;</code>, or <code>&lt;other-exception&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;client-interceptor&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Indicates that the client interceptor was invoked. This will happen when
the Jakarta EE 8 Compatible Implementation is a client of some invocation.
The following information is collected by the client interceptor:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;operation&gt;</code></p>
</li>
<li>
<p><code>&lt;req-svc-context&gt;</code></p>
</li>
<li>
<p><code>&lt;ssl-used&gt;</code></p>
</li>
<li>
<p><code>&lt;ior&gt;</code></p>
</li>
<li>
<p>Either <code>&lt;server-interceptor&gt;</code> or <code>&lt;server&gt;</code></p>
</li>
<li>
<p><code>&lt;location-forward&gt;</code></p>
</li>
<li>
<p><code>&lt;reply-svc-context&gt;</code></p>
</li>
<li>
<p>Possibly another <code>&lt;client-interceptor&gt;</code> element</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;operation&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the operation just invoked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;req-svc-context&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request service context information. This will
contain either an <code>&lt;establish-context&gt;</code> message, or an
<code>&lt;invalid-message&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;establish-context&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Information collected from the CSIv2 <code>EstablishContext</code> message.
Collects the following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;client-context-id&gt;</code></p>
</li>
<li>
<p><code>&lt;identity-token&gt;</code>, one of: <code>&lt;absent&gt;</code>, <code>&lt;anonymous&gt;</code>,
<code>&lt;principal-name&gt;</code>, <code>&lt;certificate-chain&gt;</code>, <code>&lt;distinguished-name&gt;</code>,
<code>&lt;unknown-type&gt;</code></p>
</li>
<li>
<p><code>&lt;client-auth-token&gt;</code> - Client authentication token</p>
</li>
<li>
<p><code>&lt;authz-token-count&gt;</code> - Number of authorization tokens sent</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;invalid-message&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that an invalid message (one that was
not expected) was sent in either the request or the reply. A details
attribute will indicate why the message was invalid, or the type of
message that was received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;ssl-used&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if SSL will be or was used for this invocation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;ior&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>IOR information. This is a description of the IOR that the server
published for the Jakarta Enterprise Beans, from the client&#8217;s perspective. Collects the
following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;port&gt;</code></p>
</li>
<li>
<p><code>&lt;stateful&gt;</code></p>
</li>
<li>
<p><code>&lt;compound-sec-mech&gt;</code><br>
<code>&lt;target-requires&gt;</code><br>
<code>&lt;ior-transport-mech&gt;</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Within the <code>&lt;ior-transport-mech&gt;</code>, one of the following is collected:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;tls-trans&gt;</code><br>
<code>&lt;target-supports&gt;</code><br>
<code>&lt;target-requires&gt;</code><br>
<code>&lt;trans-addr&gt;</code><br>
<code>&lt;host-name&gt;</code><br>
<code>&lt;port&gt;</code></p>
</li>
<li>
<p><code>&lt;null-trans&gt;</code></p>
</li>
<li>
<p><code>&lt;other-trans&gt;</code></p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;ior-as-context&gt;
&lt;target-supports&gt;
&lt;target-requires&gt;
&lt;client-authentication-mech&gt;
&lt;target-name&gt;
&lt;ior-sas-context&gt;
&lt;target-supports&gt;
&lt;target-requires&gt;
&lt;supported-naming-mechanism&gt;
&lt;supported-identity-types&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;location-forward&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, this request ended in a location
forward, in which case we will expect to see another client interception
later down the road. The test validation will ignore all client
interceptor elements that end in a location forward, in case target
servers do load balancing, or something of the sort.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;reply-svc-context&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reply service context information. This will
contain either a <code>&lt;complete-establish-context&gt;</code>, a <code>&lt;context-error&gt;</code>, or
an <code>&lt;invalid-message&gt;</code> element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;complete-establish-context&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Information collected from the CSIv2 <code>CompleteEstablishContext</code> message.
Collects the following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;client-context-id&gt;</code></p>
</li>
<li>
<p><code>&lt;context-stateful&gt;</code></p>
</li>
<li>
<p><code>&lt;final-context-token&gt;</code></p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;context-error&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Information collected from the CSIv2 <code>ContextError</code> message. Collects
the following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;client-context-id&gt;</code></p>
</li>
<li>
<p><code>&lt;major-status&gt;</code></p>
</li>
<li>
<p><code>&lt;minor-status&gt;</code></p>
</li>
<li>
<p><code>&lt;error-token&gt;</code></p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;server-interceptor&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Indicates that the server interceptor was invoked. This will happen when
the Jakarta EE 8 Compatible Implementation is a server of some invocation.
The following information is collected by the server interceptor:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;operation&gt;</code></p>
</li>
<li>
<p><code>&lt;req-svc-context&gt;</code></p>
</li>
<li>
<p><code>&lt;ssl-used&gt;</code></p>
</li>
<li>
<p><code>&lt;transport-client-principals&gt;</code></p>
</li>
<li>
<p><code>&lt;server&gt;</code>, if the request makes it to the server.</p>
</li>
<li>
<p><code>&lt;reply-svc-context&gt;</code></p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;transport-client-principals&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection of all transport client
principals for this invocation, if it was an SSL invocation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;server&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Indicates that the server bean was invoked. This will happen on every
successful invocation. The following information is collected on the
server bean:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&lt;invocation-principal&gt;</code></p>
</li>
<li>
<p><code>&lt;invocation&gt;</code>, if another invocation is made.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;invocation-principal&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of
<code>EJBContext.getCallerPrincipal().getName()</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GFKKB"></a><a id="b.10-iors-and-associated-csiv2-tests"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_b_10_iors_and_associated_csiv2_tests">B.10 IORs and Associated CSIv2 Tests</h3>
<div class="paragraph">
<p><a href="#GFKJY">Table B-3</a> provides additional information about the CSIv2
tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The test ids that are associated with each IOR</p>
</li>
<li>
<p>The identity assertion type that is tested by each test</p>
</li>
<li>
<p>The name of the directory in which the tests reside</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sthref59"></a><a id="GFKJY"></a></p>
</div>
<div class="sect4">
<h5 id="_table_b_3_iors_and_associated_csiv2_tests">Table B-3 IORs and Associated CSIv2 Tests</h5>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 15%;">
<col style="width: 6%;">
<col style="width: 18%;">
<col style="width: 61%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">IOR</th>
<th class="tableblock halign-left valign-top">Test ID</th>
<th class="tableblock halign-left valign-top">Identity Assertion Type</th>
<th class="tableblock halign-left valign-top">Directory Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ac_ssl_sslr_upn_noid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>2</p>
</div>
<div class="paragraph">
<p>2a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>NA</p>
</div>
<div class="paragraph">
<p>NA</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>ac_ssl_ssln_upr_noid</code></p>
</div>
<div class="paragraph">
<p><code>ac_ssl_ssln_upr_noid_a</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>3</p>
</div>
<div class="paragraph">
<p>3a</p>
</div>
<div class="paragraph">
<p>3b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>anonymous</code></p>
</div>
<div class="paragraph">
<p><code>upid</code></p>
</div>
<div class="paragraph">
<p><code>ccid</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>ew_ssl_ssln_upn_anonid</code></p>
</div>
<div class="paragraph">
<p><code>ew_ssl_ssln_upn_upid</code></p>
</div>
<div class="paragraph">
<p><code>ew_ssl_ssln_upn_ccid</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>4</p>
</div>
<div class="paragraph">
<p>4a</p>
</div>
<div class="paragraph">
<p>6</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>anonymous</code></p>
</div>
<div class="paragraph">
<p><code>ccid</code></p>
</div>
<div class="paragraph">
<p><code>upid</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>ew_ssln_ssln_upn_anonid</code></p>
</div>
<div class="paragraph">
<p><code>ew_ssln_ssln_upn_ccid</code></p>
</div>
<div class="paragraph">
<p><code>ew_ssln_ssln_upn_upid</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>7</p>
</div>
<div class="paragraph">
<p>7a</p>
</div>
<div class="paragraph">
<p>8</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>upid</code></p>
</div>
<div class="paragraph">
<p><code>ccid</code></p>
</div>
<div class="paragraph">
<p><code>anonymous</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>ew_ssl_sslr_upn_upid</code></p>
</div>
<div class="paragraph">
<p><code>ew_ssl_sslr_upn_ccid</code></p>
</div>
<div class="paragraph">
<p><code>ew_ssl_sslr_upn_anonid</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following sections provide the expected published Interoperable
Object References (IORs) for the CSIv2 interoperability tests. If, at
test time, an IOR does not match the expected result, the test output
will refer to one of these IORs by number. The test strategy
descriptions attached to each reverse-direction CSIv2 test also
reference these IORs.</p>
</div>
<div class="paragraph">
<p>These sections contain listings for the following IORs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GFKKN">IOR.0</a></p>
</li>
<li>
<p><a href="#GFKLB">IOR.1</a></p>
</li>
<li>
<p><a href="#GFKKR">IOR.3</a></p>
</li>
<li>
<p><a href="#GFKLX">IOR.4</a></p>
</li>
<li>
<p><a href="#GFKKJ">IOR.7</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GFKKN"></a><a id="b.10.1-ior.0"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_b_10_1_ior_0">B.10.1 IOR.0</h4>
<div class="sect4">
<h5 id="GFKLH">Example B-9 IOR.0</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">port=0
CompoundSecMechList {
   stateful = FALSE;
   mechanism_list = {
       CompoundSecMec {
           target_requires={Integrity, Confidentiality,
               EstablishTrustInClient};
           transport_mech = TAG_SSL_SEC_TRANS {
               target_supports = {Integrity, Confidentiality,
                   EstablishTrustInClient,
                   EstablishTrustInTarget};
               target_requires = {Integrity, Confidentiality,
                   EstablishTrustInClient};
               addresses = {
                   TransportAddress = {
                       host_name = x;
                       port = y;
                   };
               };
           };
           as_context_mech = {
               target_supports = {};
               ...
           };
           sas_context_mech = {
               target_supports = {};
               ...
           };
       };
   };
};</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GFKLB"></a><a id="b.10.2-ior.1"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_10_2_ior_1">B.10.2 IOR.1</h4>
<div class="sect4">
<h5 id="GFKLF">Example B-10 IOR.1</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">port=0
CompoundSecMechList {
    stateful = FALSE;
    mechanism_list = {
        CompoundSecMec {
            target_requires = {Integrity, Confidentiality,
                EstablishTrustInClient};
            transport_mech = TAG_SSL_SEC_TRANS {
                target_supports = {Integrity, Confidentiality,
                   EstablishTrustInTarget};
                target_requires = {Integrity, Confidentiality};
               addresses = {
                    TransportAddress {
                        host_name = x;
                        port = y;
                    };
                };
            };
            as_context_mech = {
                target_supports = {EstablishTrustInClient};
                target_requires = {EstablishTrustInClient};
                client_authentication_mech = GSSUP_OID;
                target_name = {GSSUP,"default"};
                ...
            };
            sas_context_mech = {
                target_supports = {};
                ...
            };
        };
    };
 };</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GFKKR"></a><a id="b.10.3-ior.3"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_10_3_ior_3">B.10.3 IOR.3</h4>
<div class="sect4">
<h5 id="GFKLI">Example B-11 IOR.3</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">port=0
CompoundSecMechList {
    stateful = FALSE;
    mechanism_list = {
       CompoundSecMec {
           target_requires = {Integrity, Confidentiality};
           transport_mech = TAG_SSL_SEC_TRANS {
               target_supports = {Integrity, Confidentiality,
                  EstablishTrustInTarget};
               target_requires = {Integrity,
                  Confidentiality};
               addresses = {
                    TransportAddress {
                        host_name = x;
                        port = y;
                    };
                };
           };
           as_context_mech = {
               target_supports = {};
               ...
           };
           sas_context_mech = {
               target_requires = {};
               target_supports = {IdentityAssertion};
               ...
               supported_naming_mechanisms = {GSSUPMechOID};
               supported_identity_types = {ITTPrincipalName};
           };
       };
   };
};</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GFKLX"></a><a id="b.10.4-ior.4"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_10_4_ior_4">B.10.4 IOR.4</h4>
<div class="sect4">
<h5 id="GFKLL">Example B-12 IOR.4</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">port=&lt;nonzero-port-number&gt;
CompoundSecMechList {
   stateful = FALSE;
   mechanism_list = {
       CompoundSecMec {
           target_requires = {};
           transport_mech = TAG_NULL_TAG;
           as_context_mech = {
               target_supports = {};
               ...
           };
           sas_context_mech = {
               target_requires = {};
               target_supports = {IdentityAssertion};
               ...
               supported_naming_mechanisms = {GSSUPMechOID};
               supported_identity_types = {ITTPrincipalName};
           };
       };
   };
};</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GFKKJ"></a><a id="b.10.5-ior.7"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_10_5_ior_7">B.10.5 IOR.7</h4>
<div class="sect4">
<h5 id="GFKLY">Example B-13 IOR.7</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">port=0
CompoundSecMechList {
   stateful = FALSE;
   mechanism_list = {
       CompoundSecMec {
           target_requires = {Integrity, Confidentiality,
               EstablishTrustInClient};
           transport_mech = TAG_SSL_SEC_TRANS {
               target_supports = {Integrity, Confidentiality,
                   EstablishTrustInClient,
                   EstablishTrustInTarget};
                target_requires = {Integrity, Confidentiality,
                   EstablishTrustInClient};
                addresses = {
                     TransportAddress {
                         host_name = x;
                         port = y;
                     };
                 };
            };
            as_context_mech = {
                target_supports = {};
                ...
            };
            sas_context_mech = {
               target_requires = {};
               target_supports = {IdentityAssertion};
                ...
                supported_naming_mechanisms = {GSSUPMechOID};
                    supported_identity_types = {ITTPrincipalName};
            };
        };
    };
};</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="commonappdeploy.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="jaspic-files.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
		<img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;			
		<span >Copyright&nbsp;&copy;&nbsp;2018,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

</body>
</html>
